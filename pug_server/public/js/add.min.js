!function(){"use strict";function e(e){return new Promise(function(t,n){var d=new XMLHttpRequest;d.open("GET",e,!0),d.onload=function(){if(200===this.status)t(this);else{var e=new Error(this.reponseText);e.code=this.status,n(e)}},d.onerror=function(){n(new Error("Network Error"))},d.send()})}var t=document.getElementById("scan-btn"),n=document.getElementById("scan-output"),d=document.getElementById("tested-ip"),o=document.getElementById("tested-url"),r=document.getElementById("tested-btn"),u=document.getElementById("tested-output"),a=document.getElementById("add-name"),c=document.getElementById("add-ip"),s=document.getElementById("add-data-regexp"),i=document.getElementById("add-data-url"),m=document.getElementById("add-first-sw-name"),l=document.getElementById("add-first-sw-url"),E=document.getElementById("add-second-sw-name"),g=document.getElementById("add-second-sw-url"),v=document.getElementById("add-btn");t.addEventListener("click",function(t){e("/scan").then(function(e){n.innerHTML=e.response}).catch(function(e){console.log("Error: ",e)})}),r.addEventListener("click",function(t){var n=d.value.trim(),r=o.value.trim();n&&r&&e("/test/"+n+r).then(function(e){u.innerHTML=e.response}).catch(function(e){console.log("Error: ",e)})}),v.addEventListener("click",function(e){var t,n=a.value.trim(),d=c.value.trim(),o=s.value.trim(),r=i.value.trim(),u=m.value.trim(),v=l.value.trim(),p=E.value.trim(),y=g.value.trim(),f=new XMLHttpRequest;n&&o&&r&&(t={ip:d,name:n,data:r,regExp:o,switcherOne:{name:u,url:v},switcherTwo:{name:p,url:y}},console.log(t),f.open("POST","/add",!0),f.setRequestHeader("Content-Type","application/json;charset=UTF-8"),f.send(JSON.stringify(t)))})}();